### 绘制一个常见应用的 Context 图

我们以一个常见的**在线银行应用**为例，展示如何绘制 Context 图。Context 图展示了系统与外部用户和外部系统的交互关系，帮助理解系统的边界和职责。

---

### 在线银行应用的 Context 图示例

#### 系统概述
- **应用**：在线银行系统，用户可以通过 Web 或移动应用执行银行相关操作（如账户查询、转账等）。
- **外部用户**：
  - **普通用户**：银行的注册用户，可以通过该应用访问自己的账户、进行转账等操作。
  - **银行管理员**：银行的内部人员，可以管理用户账户、监控银行系统。
- **外部系统**：
  - **支付网关**：用于处理外部支付和交易请求。
  - **信用评分系统**：用于信用评估和用户贷款申请的处理。
  - **消息系统**：用于发送短信和电子邮件通知，通知用户交易或账户变动。

---

#### Context 图设计

```
       (普通用户)               (银行管理员)
          |                           |
          v                           v
       [在线银行系统] <--> [信用评分系统]
           |               |
           v               v
 [支付网关]             [消息系统]
```

---

### 解释各个元素及其交互

#### 1. **普通用户**
- **角色**：银行的注册用户，通过在线银行系统进行操作。
- **交互**：普通用户可以登录在线银行系统，进行账户查询、资金转账、支付操作等。

#### 2. **银行管理员**
- **角色**：银行的内部人员，负责管理银行系统的运营和监控。
- **交互**：管理员通过在线银行系统管理用户账户、查看系统状态，并进行权限操作。

#### 3. **在线银行系统**
- **角色**：核心系统，连接外部用户和外部服务。
- **交互**：
  - 接收用户的请求（如账户查询、转账等）并处理这些操作。
  - 与支付网关交互，处理用户发起的支付请求。
  - 与信用评分系统交互，处理贷款申请或用户的信用评估。
  - 与消息系统交互，发送通知（如交易成功通知、账户变更提醒等）。

#### 4. **支付网关**
- **角色**：处理银行系统中的支付和交易请求，与外部银行或支付系统交互。
- **交互**：在线银行系统发起的支付请求会通过支付网关与外部支付服务进行交互，完成资金交易。

#### 5. **信用评分系统**
- **角色**：外部服务，用于评估用户信用情况或处理贷款申请。
- **交互**：银行系统向信用评分系统发起请求，获取用户的信用分数或处理贷款申请。

#### 6. **消息系统**
- **角色**：发送系统通知、交易提醒、账户变更等信息的外部系统。
- **交互**：银行系统在用户进行操作后，通过消息系统发送短信或电子邮件通知用户。

---

### 交互说明

- **普通用户与在线银行系统**：用户登录在线银行系统后，可以进行账户查询、转账、查看交易记录等操作，所有的请求都由在线银行系统处理。
- **银行管理员与在线银行系统**：管理员通过银行系统管理用户账户，查看系统状态，并处理后台管理任务。
- **在线银行系统与支付网关**：用户发起支付或转账请求时，银行系统与支付网关进行交互，处理外部支付和交易。
- **在线银行系统与信用评分系统**：当用户申请贷款或信用卡时，银行系统会向信用评分系统发送信用评估请求，获取用户的信用分数。
- **在线银行系统与消息系统**：银行系统通过消息系统向用户发送交易提醒、账户变动通知等信息，确保用户随时了解自己的账户状态。

---

### 小结

通过 Context 图，我们能够清晰地展示在线银行系统的外部交互，包括与用户和外部系统的关系。Context 图的优势在于，它能够帮助架构师和开发者理解系统的边界、外部依赖，以及系统与外部世界的主要交互方式。

Context 图提供了一个简洁的全局视角，适合用来向非技术人员、业务团队或外部利益相关者解释系统的高层次结构和功能。
