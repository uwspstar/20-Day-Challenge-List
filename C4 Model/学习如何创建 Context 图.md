### 学习如何创建 Context 图

**Context 图**是 C4 模型的第一个层次，用于展示系统与外部世界的关系。它帮助你清晰地定义系统的边界，并展示系统如何与用户、外部系统和其他组织进行交互。Context 图是系统的最简洁的高层次视图，适合与非技术人员和业务人员沟通。

---

### 创建 Context 图的步骤

#### 1. **确定系统的核心目标**
- **问题**：你要解决的核心问题是什么？
- **系统**：你的系统在整体环境中扮演什么角色？
  
**举例**：
- 假设你在构建一个电子商务平台，平台的主要目标是让用户可以在线购买商品。

---

#### 2. **确定主要的外部参与者**
- **外部用户**：谁会使用你的系统？（如终端用户、管理员等）
- **外部系统**：系统需要与哪些外部系统或服务交互？（如支付网关、物流系统等）

**注意**：
- 外部参与者可以是人，也可以是其他系统。

**举例**：
- 对于电子商务平台，可能的外部用户包括“购物者”、“平台管理员”，外部系统可能是“支付服务”、“物流服务”。

---

#### 3. **定义系统边界**
- 你的系统与外部参与者之间的交互点在哪里？明确系统的边界和职责。
  
**示例**：
- 系统负责处理用户的购物行为，但支付处理交给第三方支付网关。

---

#### 4. **描绘系统与外部参与者的关系**
- 使用简单的图形表示法：矩形代表系统，圆形代表外部用户，系统与外部系统之间的关系用箭头表示。
- 箭头代表交互，例如数据请求、服务调用、消息传递等。

**示例**：
- 电子商务平台与用户之间有“购买商品”的交互；与支付网关之间有“处理支付”的交互。

---

#### 5. **标注交互的内容**
- 在箭头旁边标注出每次交互传递的内容，如“支付请求”、“订单信息”等。
  
**举例**：
- “用户”与电子商务平台的交互可能是“浏览商品”、“提交订单”，而“平台”与“支付服务”的交互是“支付请求”。

---

### Context 图的最佳实践

1. **保持简洁**：
   - Context 图是高层次视图，避免展示太多技术细节。只需显示系统、外部用户和外部系统之间的交互关系。
   
2. **清晰的边界**：
   - 系统的边界应该明确，用户和外部系统都在系统之外，确保读者能轻松理解系统的职责范围。

3. **使用标准符号**：
   - 矩形表示系统，圆形表示用户或外部系统，箭头表示交互。确保图中的符号一致，避免混淆。

---

### Context 图示例

**电子商务平台 Context 图**：
- **用户**（购物者）：与系统交互“浏览商品”、“提交订单”。
- **系统**（电子商务平台）：处理购物、订单管理。
- **支付系统**：系统与支付网关交互，发出“支付请求”。
- **物流系统**：系统与物流服务交互，发出“物流请求”。

```
(购物者) ---> (电子商务平台) ---> (支付系统)
                         |
                         |
                    (物流系统)
```

---

### 小结

创建 Context 图的关键是**确定系统的外部参与者**和**系统的边界**，并使用简单的符号展示系统与外部用户、系统之间的交互。通过 Context 图，你可以帮助团队和非技术人员清晰了解系统在整个环境中的角色和作用，是沟通和协作的理想工具。

**提示**：
- 保持图表简洁，避免技术细节。
- 使用标准化符号，确保每个参与者和交互都易于理解。
