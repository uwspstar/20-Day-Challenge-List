### 使用 Context 图表示系统与外部实体的交互

**Context 图**展示了系统与外部用户和其他系统的交互，它帮助我们清晰了解系统的边界和角色。以下是如何使用 Context 图来表示系统与外部实体的交互的步骤和示例。

---

### 1. **确定系统和外部实体**

在创建 Context 图时，首先需要确定以下几点：
- **系统本身**：需要明确被设计或分析的系统是什么。
- **外部用户**：系统的最终用户是谁？他们如何与系统交互？
- **外部系统**：系统还需要与哪些其他外部系统或服务进行交互？

---

### 2. **绘制 Context 图**

#### 符号说明：
- **系统**：使用矩形表示，标识系统的名称。
- **外部用户**：使用圆形表示，与系统交互的用户或角色。
- **外部系统**：同样使用圆形表示，与系统交互的外部系统。
- **交互**：使用箭头表示交互的方向，标注交互的内容。

#### 示例：电子商务平台 Context 图

在这个例子中，假设你有一个电子商务平台，外部用户是购物者，外部系统包括支付网关和物流系统。

1. **系统**：电子商务平台。
2. **外部用户**：购物者、平台管理员。
3. **外部系统**：支付网关、物流系统。

```
(购物者) ---> (电子商务平台) ---> (支付系统)
(平台管理员) ---> (电子商务平台)
                     |
                     |
                (物流系统)
```

**交互解释**：
- 购物者与电子商务平台进行交互，浏览商品和提交订单。
- 电子商务平台与支付系统进行交互，发送支付请求并接收支付确认。
- 电子商务平台与物流系统进行交互，发送订单和物流请求。
- 平台管理员可以管理商品、查看订单。

---

### 3. **标注交互的内容**

标注系统与外部实体之间交互的具体内容，确保 Context 图更加清晰。以下是一些交互的具体例子：
- 购物者与平台的交互可能是“浏览商品”、“提交订单”。
- 电子商务平台与支付系统的交互是“支付请求”、“支付确认”。
- 平台与物流系统的交互是“物流订单请求”、“物流状态更新”。

---

### 4. **Context 图的要点**

- **简洁性**：Context 图主要强调高层次的系统交互，不要涉及过多技术细节，确保易于理解。
- **明确系统边界**：系统边界内的内容应该清晰标出，确保系统与外部实体之间的职责划分明确。
- **清晰的交互关系**：确保所有用户和系统之间的交互都通过箭头标明方向，并用简洁的标签标注交互内容。

---

### 小结

Context 图通过简单的图形化表示，展示系统与外部用户、外部系统的交互，帮助团队快速理解系统的上下文环境。它是架构师和开发团队用来进行沟通的有效工具，特别适合向非技术人员解释系统的高层次结构。
