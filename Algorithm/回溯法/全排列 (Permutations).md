### **é¢˜ç›®ï¼šå…¨æ’åˆ— (Permutations)**

ç»™å®šä¸€ä¸ªä¸å«é‡å¤æ•°å­—çš„æ•°ç»„ `nums`ï¼Œè¿”å›å…¶æ‰€æœ‰å¯èƒ½çš„æ’åˆ—ã€‚

---

### **ä»£ç å®ç°**

```python
from typing import List

class Solution:
    def permute(self, nums: List[int]) -> List[List[int]]:
        self.res = []  # ç”¨äºå­˜å‚¨æœ€ç»ˆçš„ç»“æœ
        self.backtrack([], nums, 0)  # è°ƒç”¨å›æº¯å‡½æ•°
        return self.res

    def backtrack(self, perm: List[int], nums: List[int], mask: int):
        # å½“æ’åˆ—é•¿åº¦ç­‰äºæ•°ç»„é•¿åº¦æ—¶ï¼Œå°†å½“å‰æ’åˆ—åŠ å…¥ç»“æœ
        if len(perm) == len(nums):
            self.res.append(perm[:])  # æ·±æ‹·è´å½“å‰æ’åˆ—
            return

        # éå†æ¯ä¸ªæ•°å­—
        for i in range(len(nums)):
            # å¦‚æœå½“å‰æ•°å­—æœªè¢«é€‰ä¸­
            if not (mask & (1 << i)):
                # é€‰æ‹©å½“å‰æ•°å­—
                perm.append(nums[i])
                # é€’å½’é€‰æ‹©å‰©ä½™çš„æ•°å­—
                self.backtrack(perm, nums, mask | (1 << i))
                # å›æº¯ï¼Œæ’¤é”€é€‰æ‹©
                perm.pop()
```

---

### **ä»£ç è§£æ**

#### **å˜é‡è§£é‡Š**ï¼š
1. `self.res`ï¼š
   - å­˜å‚¨æ‰€æœ‰æ’åˆ—ç»“æœã€‚
2. `perm`ï¼š
   - å½“å‰çš„æ’åˆ—çŠ¶æ€ã€‚
3. `mask`ï¼š
   - ä½¿ç”¨ä½æ©ç ï¼ˆbitmaskï¼‰è¡¨ç¤ºå“ªäº›æ•°å­—å·²ç»è¢«é€‰ä¸­ã€‚
   - æ¯ä¸€ä½è¡¨ç¤º `nums` ä¸­å¯¹åº”ç´¢å¼•æ˜¯å¦å·²ç»è¢«é€‰ä¸­ã€‚ä¾‹å¦‚ï¼š
     - `mask = 0b001` è¡¨ç¤ºç¬¬ 0 ä¸ªæ•°å­—è¢«é€‰ä¸­ï¼Œå…¶ä»–æœªé€‰ä¸­ã€‚

#### **é€’å½’ä¸å›æº¯è¿‡ç¨‹**ï¼š
1. **é€’å½’ç»ˆæ­¢æ¡ä»¶**ï¼š
   - å½“ `perm` çš„é•¿åº¦ç­‰äº `nums` çš„é•¿åº¦æ—¶ï¼Œè¡¨ç¤ºå½“å‰æ’åˆ—å·²å®Œæˆï¼Œå°†å…¶åŠ å…¥ç»“æœã€‚

2. **é€’å½’é€‰æ‹©é€»è¾‘**ï¼š
   - éå† `nums` çš„æ¯ä¸ªæ•°å­—ï¼š
     - å¦‚æœæ•°å­—æœªè¢«é€‰ä¸­ï¼ˆé€šè¿‡ä½è¿ç®—æ£€æŸ¥ï¼‰ï¼Œåˆ™å°†å…¶åŠ å…¥ `perm` å¹¶æ›´æ–° `mask`ï¼Œé€’å½’è°ƒç”¨ä¸‹ä¸€å±‚ã€‚

3. **å›æº¯æ’¤é”€é€»è¾‘**ï¼š
   - æ¯æ¬¡é€’å½’è¿”å›åï¼Œéœ€è¦æ’¤é”€ä¸Šä¸€æ­¥é€‰æ‹©ï¼Œå³å°†å½“å‰æ•°å­—ä» `perm` ä¸­ç§»é™¤ï¼Œä»¥ä¾¿å°è¯•å…¶ä»–é€‰é¡¹ã€‚

---

### **æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦åˆ†æ**

#### **æ—¶é—´å¤æ‚åº¦**ï¼š
1. æ¯ä¸ªæ•°å­—æœ‰ä¸¤ç§é€‰æ‹©ï¼š**é€‰ä¸­æˆ–ä¸é€‰ä¸­**ï¼Œæ€»å…± \( n! \) ç§æ’åˆ—ã€‚
2. æ¯æ¬¡é€’å½’æ“ä½œè€—æ—¶ \( O(n) \)ï¼ˆç”¨äºæ„é€ æ’åˆ—ï¼‰ã€‚
3. **æ€»æ—¶é—´å¤æ‚åº¦ï¼š\( O(n \times n!) \)**ã€‚

#### **ç©ºé—´å¤æ‚åº¦**ï¼š
1. é€’å½’æ ˆçš„æœ€å¤§æ·±åº¦ä¸º \( O(n) \)ã€‚
2. `perm` å’Œ `res` å ç”¨çš„ç©ºé—´åˆ†åˆ«ä¸º \( O(n) \) å’Œ \( O(n \times n!) \)ã€‚
3. **æ€»ç©ºé—´å¤æ‚åº¦ï¼š\( O(n \times n!) \)**ã€‚

---

### **è¿è¡Œç¤ºä¾‹**

#### **è¾“å…¥**ï¼š
```python
nums = [1, 2, 3]
```

#### **è¾“å‡º**ï¼š
```python
[
 [1, 2, 3],
 [1, 3, 2],
 [2, 1, 3],
 [2, 3, 1],
 [3, 1, 2],
 [3, 2, 1]
]
```

---

### **è¿è¡Œè¿‡ç¨‹è§£æ**

#### åˆå§‹çŠ¶æ€ï¼š
- `self.res = []`
- `perm = []`
- `mask = 0`

#### å›æº¯è¿‡ç¨‹ï¼š
1. **ç¬¬ä¸€å±‚é€’å½’**ï¼š
   - éå† `nums`ï¼Œé€‰æ‹©æ•°å­— `1`ï¼š
     - `perm = [1]`
     - `mask = 0b001`
     - è¿›å…¥ä¸‹ä¸€å±‚é€’å½’ã€‚

2. **ç¬¬äºŒå±‚é€’å½’**ï¼š
   - éå† `nums`ï¼Œé€‰æ‹©æ•°å­— `2`ï¼š
     - `perm = [1, 2]`
     - `mask = 0b011`
     - è¿›å…¥ä¸‹ä¸€å±‚é€’å½’ã€‚

3. **ç¬¬ä¸‰å±‚é€’å½’**ï¼š
   - éå† `nums`ï¼Œé€‰æ‹©æ•°å­— `3`ï¼š
     - `perm = [1, 2, 3]`
     - `mask = 0b111`
     - é•¿åº¦æ»¡è¶³æ¡ä»¶ï¼Œå°† `[1, 2, 3]` åŠ å…¥ç»“æœã€‚
   - å›æº¯ï¼šæ’¤é”€é€‰æ‹©ï¼Œ`perm = [1, 2]`ï¼Œ`mask = 0b011`ã€‚

4. **ç»§ç»­å›æº¯**ï¼š
   - æ’¤é”€é€‰æ‹© `2`ï¼Œé€‰æ‹© `3`ï¼Œé‡å¤ä¸Šè¿°é€»è¾‘ï¼Œç”Ÿæˆæ‰€æœ‰æ’åˆ—ã€‚

---

### **æ€»ç»“**

#### **æ ¸å¿ƒé€»è¾‘**ï¼š
- åˆ©ç”¨å›æº¯æ³•ï¼Œé€šè¿‡é€’å½’æ„é€ æ’åˆ—ã€‚
- ä½¿ç”¨ä½æ©ç ä¼˜åŒ–é€‰ä¸­çŠ¶æ€çš„ç®¡ç†ï¼Œå‡å°‘é¢å¤–ç©ºé—´å¼€é”€ã€‚

#### **ä¼˜ç‚¹**ï¼š
- é«˜æ•ˆç®¡ç†å·²é€‰çŠ¶æ€ï¼Œä»£ç ç®€æ´æ¸…æ™°ã€‚
- ä½¿ç”¨å›æº¯æ–¹æ³•é¿å…é‡å¤è®¡ç®—ã€‚

---

å¦‚æœæœ‰æ›´å¤šé—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥è§£é‡Šï¼Œæ¬¢è¿éšæ—¶æé—®ï¼ ğŸ˜Š
