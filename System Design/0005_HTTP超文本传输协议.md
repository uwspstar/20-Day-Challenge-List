### HTTP（超文本传输协议）

在之前的讨论中，我们主要关注了应用层协议，强调了它们在开发者工作中的核心作用。本章将进一步探讨客户端-服务器模型，并重点介绍两种关键的应用层协议——**HTTP** 和 **WebSockets**。这两种协议在系统设计面试中至关重要，因此需要深入理解。

#### 客户端-服务器模型

客户端-服务器模型常见的场景是客户端（通常是浏览器）向服务器发出请求，而服务器则响应这些请求。然而，客户端不一定非得是浏览器，它也可以是任何应用程序或系统，如邮件客户端、手机应用等。

- **客户端**: 是请求资源或服务的系统或设备。它可以是网页浏览器、邮件软件、手机应用等。
- **服务器**: 是提供资源或服务的系统或设备，例如网页服务器、邮件服务器或数据库服务器。

在特定情况下，客户端和服务器的角色可以互换。例如，Google 可以作为服务器提供搜索服务，但当它请求其他服务时，它也可以作为客户端。P2P 网络也是一个例子，其中一台设备可以同时充当客户端和服务器。

#### 用户案例：
1. **Alice 使用浏览器**：她是客户端，向服务器请求网页内容，服务器响应并提供网页数据。
2. **Bob 使用手机应用**：他使用应用程序向服务器请求图片，服务器将图片数据返回给他的应用。

#### RPC（远程过程调用）

**远程过程调用（RPC）** 允许程序在另一台机器上执行功能，简化了分布式系统中的任务管理。在客户端-服务器模型中，客户端和服务器通过网络保持连接，执行 RPC 调用。

- **用户案例**：
  1. Alice 在 YouTube 搜索框中输入 "NeetCode"，浏览器向 YouTube 服务器发送请求，服务器返回视频列表。
  2. Bob 使用分布式系统，在一台服务器上调用另一台服务器的功能，以完成分布式数据处理任务。

#### HTTP

**HTTP（超文本传输协议）** 是构建在 IP 和 TCP 之上的协议。它是一个请求/响应协议，规定了数据在网络上传输的规则。当我们通过浏览器发出请求时，HTTP 定义了服务器和浏览器如何处理这些请求。

- **用户案例**：
  1. Alice 输入 `https://youtube.com`，浏览器通过 HTTP 向服务器发送 GET 请求，服务器返回主页数据。
  2. Bob 通过 POST 请求向某网站上传文件，HTTP 定义了如何将数据从客户端传输到服务器。

#### HTTP 请求的结构

每个 HTTP 请求都包含几个部分：

- **请求方法**：表示要对资源执行的操作，如 GET、POST、PUT、DELETE。
- **URL/URI**：指定请求的目标位置。
- **Headers**：包含与请求相关的额外信息。
- **请求体（Body）**：某些请求（如 POST 或 PUT）会包含数据发送到服务器。

#### HTTP 方法

- **GET**: 获取资源，重复请求返回相同的结果（幂等）。
- **POST**: 向服务器发送数据以创建新资源。
- **PUT**: 更新资源，幂等性操作。
- **DELETE**: 删除指定资源，重复调用不会改变状态。

#### HTTP 状态码

HTTP 状态码用于服务器向客户端反馈请求的状态，常见分类如下：

- **信息响应** (100 - 199)
  - **100 Continue**: 请求已经成功，客户端可以继续发送请求或忽略。
  
- **成功响应** (200 - 299)
  - **200 OK**: 请求成功并返回数据。
  - **201 Created**: 请求成功并创建了新资源。

- **重定向** (300 - 399)
  - **301 Moved Permanently**: 资源永久移动到新位置。

- **客户端错误** (400 - 499)
  - **400 Bad Request**: 请求无效，服务器无法理解。
  - **401 Unauthorized**: 客户端没有正确的身份验证。

- **服务器错误** (500 - 599)
  - **500 Internal Server Error**: 服务器在处理请求时遇到错误。

#### SSL/TLS 和 HTTPS

为了确保 HTTP 请求的安全，使用了 **TLS（传输层安全协议）**。HTTP 本身是易受中间人攻击的，TLS 加密了数据传输，防止数据被篡改或窃取。**HTTPS** 就是 HTTP 和 TLS 的组合，确保了数据的保密性和完整性。

- **用户案例**：
  1. Alice 访问银行网站时使用 HTTPS，确保交易数据的安全。
  2. Bob 在购物网站提交信用卡信息时，TLS 加密保护了他的个人数据免受攻击。

#### 总结

HTTP 是构建在 TCP/IP 之上的协议，定义了客户端与服务器之间的数据传输方式。它支持多种请求方法，并通过状态码反馈请求的结果。为了提高安全性，TLS/SSL 结合 HTTP 形成 HTTPS，确保数据在传输过程中的安全。
